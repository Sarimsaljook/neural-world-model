inherits: [configs/base.yaml]

stage: stage4_intuition

data_mix:
  - {source: sim,      path: configs/data/sim.yaml,      weight: 0.60}
  - {source: robotics, path: configs/data/robotics.yaml, weight: 0.25}
  - {source: webvideo, path: configs/data/webvideo.yaml, weight: 0.15}

model:
  encoder: configs/model/encoder.yaml
  erfg: configs/model/erfg.yaml
  compiler: configs/model/compiler.yaml
  mechanisms: configs/model/mechanisms.yaml
  intuition: configs/model/intuition.yaml

train:
  max_steps: 80000
  input_res: 256
  sequence_len: 8
  batch_size: 8
  grad_accum: 4
  eval_batch_size: 8

optim:
  name: adamw
  lr: 2.0e-4
  weight_decay: 0.01
  betas: [0.9, 0.95]
  schedule: {name: cosine, warmup_steps: 2000, min_lr: 2.0e-5}

freeze:
  encoder_backbone: true
  compiler: true
  mechanisms: true

loss:
  lambda_bce: 1.0
  lambda_rank: 0.5
  lambda_cal: 0.2
